{% extends 'mybase.html' %}
{% block title %}Goals{% endblock %}

{% block content %}
    <h2>Goals</h2>

    <h3>Current Goals</h3>
    <ul>
        {% for goal in goals %}
            <li>
                <strong>{{ goal.title }}</strong> - {{ goal.description }} (Type: {{ goal.goal_type }}, Start: {{ goal.start_date.strftime('%Y-%m-%d') }}, End: {{ goal.end_date.strftime('%Y-%m-%d') }})
                <progress value="{{ goal.progress }}" max="100">{{ goal.progress }}%</progress>
            </li>
        {% endfor %}
    </ul>

    <h3>Create New Goal</h3>
    <form method="post" action="/goals">
        <label for="title">Title:</label>
        <input type="text" id="title" name="title" required><br><br>
        <label for="description">Description:</label>
        <textarea id="description" name="description" required></textarea><br><br>
        <label for="type">Type:</label>
        <select id="type" name="type" required>
            <option value="weightloss">Weight Loss</option>
            <option value="musclegain">Muscle Gain</option>
            <option value="endurance">Endurance</option>
        </select><br><br>
        <label for="start_date">Start Date:</label>
        <input type="date" id="start_date" name="start_date" required><br><br>
        <label for="end_date">End Date:</label>
        <input type="date" id="end_date" name="end_date" required><br><br>
        <button type="submit">Create Goal</button>
    </form>
{% endblock %}
