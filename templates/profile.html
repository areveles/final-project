{% extends "thebase.html" %}

{% block title %}
    My Profile
{% endblock %}

{% block content %}
    <h2>My Profile</h2>
    <p>Welcome, {{ session['username'] }}!</p>
    
    <h3>User Information</h3>
    <p>Name: {{ name }}</p>
    <p>Height: {{ height_feet }}' {{ height_inches }}"</p>
    <p>Weight: {{ weight }} lbs.</p>
    <p>Age: {{ age }}</p>

    <div id="update_profile"  style="display: none">
        <h3>Update Information</h3>
        <form method="post" action="/update_profile">
            <label for="name">Name:</label>
            <input type="text" id="name" name="name"><br><br>
            <label for="height">Height (inches):</label>
            <input type="number" id="height" name="height"><br><br>
            <label for="weight">Weight (pounds):</label>
            <input type="number" id="weight" name="weight"><br><br>
            <label for="age">Age:</label>
            <input type="number" id="age" name="age"><br><br>
            <button type="submit">Update Profile</button>
        </form>
    </div>
    <br>
    <a href="/update_profile" id="editProfileLink" class="btn btn-primary">Edit Profile</a>
{% endblock %}

{% block scripts %}
<script>
    document.addEventListener('DOMContentLoaded', function() {
        const editLink = document.getElementById('editProfileLink');
        const update_profile = document.getElementById('update_profile');
        
        editLink.addEventListener('click', function(event) {
            event.preventDefault();
            // Toggle the display property
            if (update_profile.style.display === 'none' || !update_profile.style.display) {
                update_profile.style.display = 'block';
            } else {
                update_profile.style.display = 'none';
            }
        });
    });
</script>
{% endblock %}

